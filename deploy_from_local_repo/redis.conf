# Слушать на всех сетевых интерфейсах
bind 0.0.0.0

# Отключить защищённый режим (обязательно при отсутствии пароля и внешнем доступе)
protected-mode no

# Порт по умолчанию
port 6379

# Не демонизировать (в контейнере не нужно)
daemonize no

# Директория для сохранения RDB
dir /data

# Сохранение данных (пример: сохранять, если 1 изменение за 900 сек)
save 900 1
save 300 10
save 60 10000

# Имя файла дампа
dbfilename dump.rdb

# Включить логирование (в stdout для Docker)
logfile ""

# Уровень логов
loglevel notice

# Отключить аутентификацию (никакого requirepass)
# requirepass не указан — пароль не нужен

# Репликация и другие настройки по умолчанию
replica-serve-stale-data yes
replica-read-only yes
repl-diskless-sync no
repl-diskless-sync-delay 5
repl-disable-tcp-nodelay no
replica-priority 100

# Отключить AOF (если не нужна персистентность выше RDB)
appendonly no

# Дополнительные настройки
tcp-backlog 511
timeout 0
tcp-keepalive 300
stop-writes-on-bgsave-error yes
rdbcompression yes
rdbchecksum yes

